import{i as S,c as C,N as _,a as v,l as j,D as g,y as N}from"./index-8LgnguXn.js";import{w as A,i as E}from"./vue.esm-bundler-Cg6rw2kB.js";const{addons:O}=__STORYBOOK_MODULE_PREVIEW_API__;var V=["props","events","slots","exposed","expose"],T=e=>{if(!_(e))return null;let r="exposed"in e.__docgenInfo?"vue-component-meta":"vue-docgen-api",i={};return V.forEach(n=>{v(e,n).forEach(s=>{let a;if(r==="vue-docgen-api"){let t=s.docgenInfo;a=D(t,n,s)}else{let t=s.docgenInfo;a=M(t,n)}!a||i[a.name]||(["events","expose","exposed"].includes(n)&&(a.control={disable:!0}),i[a.name]=a)})}),i},D=(e,r,i)=>{let n,s;if(r==="events"&&(n=e.type?.names.join(),s={name:"other",value:n??"",required:!1}),r==="slots"){let t=e.bindings?.filter(l=>!!l.name).map(l=>`${l.name}: ${l.type?.name??"unknown"}`).join("; ");n=t?`{ ${t} }`:void 0,s={name:"other",value:n??"",required:!1}}if(r==="props"){let t=e;if(n=t.type?.name,s=i?j(i.docgenInfo):{name:"other",value:n},t.type&&"elements"in t.type&&Array.isArray(t.type.elements)&&t.type.elements.length>0){let l=t.type.elements.map(o=>o.name);n==="Array"&&(n=`${l.length===1?l[0]:`(${l.join(" | ")})`}[]`),n==="union"?n=l.join(" | "):n==="intersection"&&(n=l.join(" & "))}}let a="required"in e?e.required??!1:!1;return{name:e.name,description:e.description,type:s?{...s,required:a}:{name:"other",value:n??""},table:{type:n?{summary:n}:void 0,defaultValue:i?.propDef.defaultValue??void 0,jsDocTags:i?.propDef.jsDocTags,category:r}}},M=(e,r)=>{if("global"in e&&e.global)return;let i={summary:e.type.replace(" | undefined","")};if(r==="props"){let n=e,s=n.default?{summary:n.default}:void 0;return{name:n.name,description:q(n.description,n.tags),defaultValue:s,type:p(n),table:{type:i,defaultValue:s,category:r}}}else return{name:e.name,description:"description"in e?e.description:"",type:{name:"other",value:e.type},table:{type:i,category:r}}},p=e=>{let r=e.schema,i=e.required,n={name:"other",value:e.type,required:i},s=["string","number","function","boolean","symbol"];if(typeof r=="string")return s.includes(r)?{name:r,required:i}:n;switch(r.kind){case"enum":{let a=r.schema?.filter(t=>t!=="undefined")??[];return k(a)?{name:"boolean",required:i}:F(a)||w(a)?{name:"enum",value:a.map(t=>t.replace(/"/g,"")),required:i}:a.length===1?p({schema:a[0],type:e.type,required:i}):(a.length>2&&a.includes("true")&&a.includes("false")&&(a=a.filter(t=>t!=="true"&&t!=="false"),a.push("boolean")),{name:"union",value:a.map(t=>p(typeof t=="object"?{schema:t,type:t.type,required:!1}:{schema:t,type:t,required:!1})),required:i})}case"array":{let a=r.schema?.filter(t=>t!=="undefined")??[];return a.length===0?n:a.length===1?{name:"array",value:p({schema:a[0],type:e.type,required:!1}),required:i}:{name:"union",value:a.map(t=>p(typeof t=="object"?{schema:t,type:t.type,required:!1}:{schema:t,type:t,required:!1})),required:i}}case"object":return{name:"object",value:{},required:i};default:return n}},q=(e,r)=>!r?.length||!e?e??"":`${r.map(i=>`@${i.name}: ${i.text}`).join("<br>")}<br><br>${e}`,F=e=>e.every(r=>typeof r=="string"&&r.startsWith('"')&&r.endsWith('"')),w=e=>e.every(r=>typeof r=="string"&&r.includes(".")),k=e=>e.length===2&&e.includes("true")&&e.includes("false"),W=(e,r)=>{let i=e();if(R(r))return i;let n=O.getChannel();return A(()=>r.args,()=>{let s=B(r);n.emit(N,{id:r.id,args:r.args,source:s,format:"vue"})},{immediate:!0,deep:!0}),i},B=e=>{let r={imports:{},scriptVariables:{}},{displayName:i,slotNames:n,eventNames:s}=I(e.component),a=$(e.args,n,s,r),t=h(e.args,n,r),l=i||e.title.split("/").at(-1),o=t?`<${l} ${a}> ${t} </${l}>`:`<${l} ${a} />`,u=Object.entries(r.scriptVariables).map(([c,d])=>`const ${c} = ${d};`).join(`

`),m=Object.entries(r.imports).map(([c,d])=>`import { ${Array.from(d.values()).sort().join(", ")} } from "${c}";`).join(`
`),f=`<template>
  ${o}
</template>`;return!m&&!u?f:`<script lang="ts" setup>
${m?`${m}

${u}`:u}
<\/script>

${f}`},R=e=>{let r=e?.parameters.docs?.source;if(r?.type===g.DYNAMIC)return!1;let i=e?.parameters.__isArgsStory;return e?.viewMode!=="docs"||!i||r?.code||r?.type===g.CODE},I=e=>{if(!e||!("__docgenInfo"in e)||!e.__docgenInfo||typeof e.__docgenInfo!="object")return{displayName:e?.__name,eventNames:[],slotNames:[]};let r=e.__docgenInfo,i="displayName"in r&&typeof r.displayName=="string"?r.displayName:void 0,n=s=>!(s in r)||!Array.isArray(r[s])?[]:r[s].map(a=>a&&typeof a=="object"&&"name"in a?a.name:void 0).filter(a=>typeof a=="string");return{displayName:i||e.__name,slotNames:n("slots").sort((s,a)=>s==="default"?-1:a==="default"?1:s.localeCompare(a)),eventNames:n("events")}},$=(e,r,i,n)=>{let s=[];Object.entries(e).forEach(([t,l])=>{if(!r.includes(t)&&l!=null)switch(typeof l){case"string":if(l==="")return;s.push({name:t,value:l.includes('"')?`'${l}'`:`"${l}"`,templateFn:(o,u)=>`${o}=${u}`});break;case"number":s.push({name:t,value:l.toString(),templateFn:(o,u)=>`:${o}="${u}"`});break;case"bigint":s.push({name:t,value:`BigInt(${l.toString()})`,templateFn:(o,u)=>`:${o}="${u}"`});break;case"boolean":s.push({name:t,value:l?"true":"false",templateFn:(o,u)=>u==="true"?o:`:${o}="false"`});break;case"symbol":s.push({name:t,value:`Symbol(${l.description?`'${l.description}'`:""})`,templateFn:(o,u)=>`:${o}="${u}"`});break;case"object":{s.push({name:t,value:U(l),templateFn:void 0});break}}}),s.sort((t,l)=>t.name.localeCompare(l.name));let a=[];return s.forEach(t=>{let l=i.includes(`update:${t.name}`);if(!l&&t.templateFn){a.push(t.templateFn(t.name,t.value));return}let o=t.name;if(o in n.scriptVariables){let u=1;do o=`${t.name}${u}`,u++;while(o in n.scriptVariables)}if(!l){n.scriptVariables[o]=t.value,a.push(`:${t.name}="${o}"`);return}n.scriptVariables[o]=`ref(${t.value})`,n.imports.vue||(n.imports.vue=new Set),n.imports.vue.add("ref"),t.name==="modelValue"?a.push(`v-model="${o}"`):a.push(`v-model:${t.name}="${o}"`)}),a.join(" ")},h=(e,r,i)=>{let n=[];return r.forEach(s=>{let a=e[s];if(!a)return;let t=y([a],i);if(!t)return;let l=typeof a=="function"?b(a):[];s==="default"&&!l.length?n.push(t):n.push(`<template ${J(s,l)}>${t}</template>`)}),n.join(`

`)},y=(e,r)=>{let i=[],n=s=>{if(E(s))return P(s,r);switch(typeof s){case"string":case"number":case"boolean":return s.toString();case"object":return s===null?"":Array.isArray(s)?s.map(n).filter(a=>a!=="").join(`
`):JSON.stringify(s);case"function":{let a=b(s).filter(u=>!["{","}"].includes(u)),t=a.reduce((u,m)=>(u[m]=`{{ ${m} }}`,u),{}),l=s(t),o=y([l],r);return a.forEach(u=>{o=o.replaceAll(new RegExp(` (\\S+)="{{ ${u} }}"`,"g"),` :$1="${u}"`)}),o}case"bigint":return`{{ BigInt(${s.toString()}) }}`;default:return""}};return e.forEach(s=>{let a=n(s);a!==""&&i.push(a)}),i.join(`
`)},P=(e,r)=>{let i=G(e),n="";typeof e.children=="string"?n=e.children:Array.isArray(e.children)?n=y(e.children,r):e.children&&(n=h(e.children,Object.keys(e.children).filter(a=>a!=="$stable"),r));let s=e.props?$(e.props,[],[],r):"";return n?`<${i}${s?` ${s}`:""}>${n}</${i}>`:`<${i}${s?` ${s}`:""} />`},G=e=>{if(typeof e.type=="string")return e.type;if(typeof e.type=="object"){if("name"in e.type&&e.type.name)return e.type.name;if("__name"in e.type&&e.type.__name)return e.type.__name}return"component"},b=e=>{let r=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g,n=e.toString().replace(r,""),s=n.slice(n.indexOf("(")+1,n.indexOf(")")).match(i);return s?s.flatMap(a=>{if(["{","}"].includes(a))return a;let t=a.split(":")[0].trim();return t.startsWith("{")?["{",t.substring(1)]:a.endsWith("}")&&!t.endsWith("}")?[t,"}"]:t}):[]},J=(e,r)=>r.length?r.length===1?`#${e}="${r[0]}"`:`#${e}="{ ${r.filter(i=>!["{","}"].includes(i)).join(", ")} }"`:`#${e}`,U=e=>Object.values(e).every(r=>r==null||typeof r!="object")?JSON.stringify(e):JSON.stringify(e,null,2),L={docs:{story:{inline:!0},extractArgTypes:T,extractComponentDescription:S}},H=[W],z=[C];export{z as argTypesEnhancers,H as decorators,L as parameters};
